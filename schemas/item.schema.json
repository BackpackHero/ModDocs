{
    "$id": "item.schema.json",
    "description": "Describes an item in Backpack Hero",
    "type": "object",
    "required": [
        "name",
        "type",
        "sprite",
        "rarity",
        "shape"
    ],
    "properties": {
        "name": {
            "title": "Item Name",
            "description": "Name of the item",
            "oneOf": [
                {
                    "type": "string"
                },
                {
                    "$ref": "#/refs/MultiLanguage"
                }
            ]
        },
        "sprite": {
            "title": "Sprite",
            "description": "Path to sprite of item, relative to the JSON file. Expected file format is PNG. If more than one path is specified, any subsequent sprites will be changed based on `sprite_change_mode` (`use_limits`->`total` by default).",
            "oneOf": [
                {
                    "title": "File Name",
                    "type": "string"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "title": "File Name"
                    }
                }
            ]
        },
        "sprite_change_mode": {
            "title": "Sprite Change Mode",
            "description": "If more than one sprite is specified, this controls how they will be used.",
            "default":"auto",
            "$ref": "#/refs/SpriteChangeMode"
        },
        "rarity": {
            "title": "Item Rarity",
            "description": "Rarity of the item",
            "$ref": "#/refs/Enum/Rarity"
        },
        "shape": {
            "title": "Shape",
            "description": "Shape of the item, drawn in ASCII as an Array of Strings. One string represents one row of spaces, each character in each string represents a single space. Valid characters are '-' for empty space and 'X' for filled space.",
            "type": "array",
            "items": {
                "type": "string",
                "title": "Shape as ASCII",
                "pattern": "(?=.*X)^[-X]+$"
            },
            "minItems": 1
        },
        "type": {
            "title": "Item Types",
            "description": "Array of item types for this item.",
            "type": "array",
            "items": {
                "$ref": "#/refs/Enum/ItemType"
            }
        },
        "group": {
            "title": "Item Groupings",
            "description": "Array of item groupings for this item. This influences the RNG in the game to favor giving items of the same groupings as items in your inventory",
            "type": "array",
            "items": {
                "$ref": "#/refs/Enum/ItemGrouping"
            }
        },
        "description": {
            "title": "Description",
            "description": "Custom description to be displayed in the card alongside auto-generated descriptions",
            "oneOf": [
                {
                    "type": "string"
                },
                {
                    "$ref": "#/refs/MultiLanguageDescription"
                }
            ]
        },
        "flavor": {
            "title": "Flavor Text",
            "description": "Flavor text of the item. Gets displayed in an italic font on the bottom of the item card. Put funny jokes and references here. :)",
            "oneOf": [
                {
                    "type": "string"
                },
                {
                    "$ref": "#/refs/Enum/MultiLanguage"
                }
            ]
        },
        "supported_characters": {
            "title": "Supported Characters",
            "description": "Array of supported characters. Item will only spawn for characters listed here. If Array is empty or contains 'any', it will spawn for all characters.",
            "default":"any",
            "type": "array",
            "items": {
                "$ref": "#/refs/Enum/Character"
            }
        },
        "found_in": {
            "title": "Found in",
            "description": "Array of DungeonZones the item can naturally spawn in. If this is empty, it will spawn anywhere.",
            "type": "array",
            "items": {
                "$ref": "#/refs/Enum/DungeonZone"
            }
        },
        "use_costs": {
            "description": "Object that contains the use costs of the item.",
            "default":"{\"energy\":0}",
            "$ref": "#/refs/Costs"
        },
        "animation": {
            "description": "Player animation that gets played when the item is used.",
            "default":"UseItem",
            "$ref": "#/refs/AnimationType"
        },
        "use_limits": {
            "description": "Use limits (e.g. 3 uses per Combat)",
            "$ref": "#/refs/LimitedUses"
        },
        "combat_effects": {
            "description": "Effects that perform a combat action, e.g. Attack, Block, Poison.",
            "type": "array",
            "items": {
                "$ref": "#/refs/CombatEffect"
            }
        },
        "modifiers": {
            "description": "Effects that perform a combat action, e.g. Attack, Block, Poison.",
            "type": "array",
            "items": {
                "$ref": "#/refs/Modifier"
            }
        },
        "add_modifiers": {
            "type": "array",
            "items": {
                "$ref": "#/refs/AddModifier"
            }
        },
        "create_effects": {
            "type": "array",
            "items": {
                "$ref": "#/refs/CreateEffect"
            }
        },
        "item_status_effects": {
            "type": "array",
            "items": {
                "$ref": "#/refs/ItemStatusEffect"
            }
        }
    }
}